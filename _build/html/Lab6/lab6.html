


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Lab 6: Data Protection &mdash; Nutanix Technology Bootcamp  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lab 7: Prism Central" href="../Lab7/lab7.html" />
    <link rel="prev" title="Lab 5: Verwalten von Workloads" href="../Lab5/lab5.html" />
 
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #024DA1" >
          

          
            <a href="../index.html" class="icon icon-home"> Nutanix Technology Bootcamp
          

          
            
            <img src="../_static/Logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">BootCamp Infos</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Trainer/trainer.html">Ihr Drill Instructor</a></li>
<li class="toctree-l1"><a class="reference internal" href="../clusteraccess/clusteraccess.html">Zugang zur Lab Umgebung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#zugangs-ubersicht">Zugangs-Übersicht</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#pulse-secure-vpn-client-empfohlen">Pulse Secure VPN Client (empfohlen)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusteraccess/clusteraccess.html#parallels-vdi-zugang-optional">Parallels VDI Zugang (optional)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../clusterdetails/clusterdetails.html">Bootcamp Cluster Details</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#cluster-hardware-details">Cluster Hardware Details</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#infrastruktur-ips">Infrastruktur IPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#virtuelle-maschinen">Virtuelle Maschinen</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#images-vm-vorlagen-isos">Images / VM Vorlagen &amp; ISOs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#zugangsdaten">Zugangsdaten</a></li>
<li class="toctree-l2"><a class="reference internal" href="../clusterdetails/clusterdetails.html#netzwerk">Netzwerk</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Labs</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Lab1/lab1.html">Lab 1: Überblick</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#prism-element">Prism Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#fragen-zu-prism-element">Fragen zu Prism Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab1/lab1.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab2/lab2.html">Lab 2: Storage Konfiguration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#distributed-storage-fabric">Distributed Storage Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#anlegen-konfiguration-eines-storage-containers">Anlegen &amp; Konfiguration eines Storage Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#redundancy-factor-rf">Redundancy Factor (RF)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab2/lab2.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab3/lab3.html">Lab 3: Netzwerk Konfiguration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#ahv-netzwerk-grundlagen">AHV Netzwerk-Grundlagen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#virtuelle-netzwerke">Virtuelle Netzwerke</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#virtual-nics">Virtual NICs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#ip-address-management-ipam">IP Address Management (IPAM)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#netzwerk-konfiguration">Netzwerk-Konfiguration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#nutzer-vm-netzwerk-einrichten">Nutzer VM Netzwerk einrichten</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Lab3/lab3.html#nutzer-vm-netzwerk-mit-ipam-einrichten">Nutzer VM Netzwerk mit IPAM einrichten</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Lab3/lab3.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab4/lab4.html">Lab 4: Bereitstellen von Workloads</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#image-service">Image Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#bereitstellen-einer-linux-vm-disk-image">Bereitstellen einer Linux-VM (Disk-Image)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#bereitstellen-einer-windows-vm-iso">Bereitstellen einer Windows VM (ISO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab4/lab4.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab5/lab5.html">Lab 5: Verwalten von Workloads</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#power-actions-und-console-zugang">Power-Actions und Console-Zugang</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#vm-cloning">VM-Cloning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#vm-migration">VM-Migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#affinity-policies">Affinity-Policies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#high-availability-dynamic-scheduling">High Availability &amp; Dynamic Scheduling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab5/lab5.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lab 6: Data Protection</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#vm-snapshots">VM-Snapshots</a></li>
<li class="toctree-l2"><a class="reference internal" href="#protection-domains">Protection-Domains</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Lab7/lab7.html">Lab 7: Prism Central</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#suchfunktion">Suchfunktion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#reports">Reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#capacity-planning">Capacity Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#what-if-planning">What If Planning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Lab7/lab7.html#zusammenfassung">Zusammenfassung</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nutanix Technology Bootcamp</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Lab 6: Data Protection</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="lab-6-data-protection">
<h1>Lab 6: Data Protection<a class="headerlink" href="#lab-6-data-protection" title="Permalink to this headline">¶</a></h1>
<p>Nutanix bietet die Möglichkeit VM- / vDisk-level basierte Storage Snapshots anzulegen. Protection Domains (PDs) sind ein Konstrukt um VMs zu gruppieren und darauf Snapshots und Replikations-Policies anzuwenden.</p>
<p><strong>In diesem Lab werden Sie Prism Element nutzen um VM-Snapshots zu erstellen und VMs aus diesen Snapshots wiederherzustellen sowie eine Protection Domain für Ihre VMs anzulegen.</strong></p>
<div class="section" id="vm-snapshots">
<h2>VM-Snapshots<a class="headerlink" href="#vm-snapshots" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>In <strong>Prism Element &gt; VM &gt; Table</strong> wählen Sie Ihre <em>Initialen</em>-<strong>Linux-VM</strong>.</p></li>
<li><p>Wenn die VM angeschaltet sein sollte, fahren Sie die VM herunter <strong>Guest Shutdown</strong>.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/poweroffvm1.png" src="../_images/poweroffvm1.png" />
</div>
</div></blockquote>
</li>
<li><p>Wählen Sie die VM und klicken Sie auf <strong>Take Snapshot</strong> innerhalb des Menüs unterhalb der Tabelle.</p></li>
<li><p>Geben Sie einen Namen für Ihren Snapshot an und klicken Sie auf <strong>Submit</strong>.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/takesnap.png" src="../_images/takesnap.png" />
</div>
</div></blockquote>
</li>
<li><p>Klicken Sie auf den <strong>VM Snapshots</strong>-Tab unterhalb der Tabelle und sehen Sie sich nun die verfügbaren Snapshots für die ausgewählte VM an.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/snap-list.png" src="../_images/snap-list.png" />
</div>
</div></blockquote>
</li>
<li><p>Unter <strong>Actions</strong>, klicken Sie auf <strong>Details</strong> um die Eigenschaften der VM zum Zeitpunkt der Erstellung des Snapshots zu sehen.</p></li>
</ol>
<blockquote>
<div><h2><strong><font color="red">Jetzt wird es Zeit die VM zu zerstören!</font></strong></h2></div></blockquote>
<ol class="arabic" start="7">
<li><p>Nun klicken Sie auf <strong>Update</strong> um die VM zu modifizieren. Jetzt entfernen Sie sowohl das CD-ROM Laufwerk als auch die DISK durch anklicken des <strong>X</strong> Symbols neben den jeweiligen Devices. Klicken Sie danach auf <strong>Save</strong>.</p>
<div class="figure align-default">
<img alt="../_images/removedisks.png" src="../_images/removedisks.png" />
</div>
</li>
<li><p>Starten Sie die VM (<em>Power on</em>) und öffnen Sie das Consolen Fenster (<em>Launch Console</em>).</p>
<div class="figure align-default">
<img alt="../_images/2048game.png" src="../_images/2048game.png" />
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Wie Sie in der Abbildung sehen können, hat die VM keine Disk mehr von der sie booten kann. Sie zeigt daher das 2048ger Spiel an.</p>
</div>
</li>
<li><p>Schalten Sie die nun VM aus (<em>Power off</em>).</p></li>
<li><p>Unter <strong>VM Snapshots</strong> wählen Sie Ihren zuvor von dieser VM erstellten Snapshot aus und klicken auf <strong>Restore</strong> um die VM wieder in den ursprünglichen und funktionsfähigen Zustand zu versetzen. (Alternativ können Sie auch auf <strong>Clone</strong> klicken um einen Restore in Form einer (oder mehrerer) neuen VM(s) durchzuführen.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/vmrestored.png" src="../_images/vmrestored.png" />
</div>
</div></blockquote>
</li>
<li><p>Schalten Sie die VM nun wieder ein und verifizieren, ob die VM erfolgreich bootet.</p></li>
</ol>
<p>Wie vorher erwähnt, nutzt die Nutanix-Snapshot-Technologie das <a class="reference external" href="https://nutanixbible.com/#anchor-book-of-acropolis-snapshots-and-clones">redirect-on-write</a> Verfahren, welches ohne verkettete Snapshots auskommt und dadurch höchste Performance bietet.</p>
</div>
<div class="section" id="protection-domains">
<h2>Protection-Domains<a class="headerlink" href="#protection-domains" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Eine <em>Protection Domain (PD)</em> stellt eine logische Gruppierung von VM-Objekten dar, welche zeitgesteuert repliziert werden. Zur Erstellung einer PD klicken Sie nun <strong>Prism Element &gt; Data Protection &gt; Table</strong> und klicken dann auf <strong>+ Protection Domain &gt; Async DR</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Eine <em>synchrone Replikation</em> in Verbindung mit <em>Metro Availability</em> wird aktuell ausschließlich auf der Basis des VMware ESXi-Hypervisors unterstützt, wird aber zu einem späterem Zeitpunkt auch für AHV erwartet.</p>
</div>
</li>
<li><p>Geben Sie nun einen Namen für die zu erstellende <em>Protection-Domain</em> in das Formular ein und klicken auf <strong>Create</strong>.</p></li>
<li><p>Suchen Sie nun durch <em>Filterung</em> oder durch <em>scrollen</em> die von Ihnen erstellten VMs im linken Teil des Fensters unter <strong>Unprotected Entities</strong> und wählen diese dann durch anklicken aus um sie in die PD aufzunehmen.</p></li>
<li><p>Klicken Sie nun auf <strong>Protect Selected Entities</strong> links unten im Fenster und warten bis die ausgewählten VMs im linken Feld des Fensters unter <strong>Protected Entities</strong> erscheinen.</p>
<blockquote>
<div><div class="figure align-default">
<img alt="../_images/pd-entities.png" src="../_images/pd-entities.png" />
</div>
</div></blockquote>
<p>Consistency-Groups erlauben es Ihnen mehrere VMs zu gruppieren um Snapshots zum gleichen Zeitpunkt aufnehmen zu können, da die VMsz.B. zur gleichen Anwendung gehören.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Mit Nutanix-Snapshots können Anwendungskonsistente-Snapshots für unterstützte Betriebssysteme durchgeführt werden. Voraussetzung hierfür ist, dass die Nutanix-Guest-Tools (NGT) in den entsprechenden VMs installiert sind.</p>
</div>
</li>
<li><p>Klick Sie nun auf <strong>Next</strong>.</p></li>
<li><p>Klick Sie bitte jetzt auf <strong>New Schedule</strong> um die <em>Recovery Point Objective (RPO)</em> sowie die <em>Retention Policy</em> zu definieren.</p></li>
<li><p>Definieren Sie Ihre gewünschte Snapshot-Frequenz, indem Sie z.B. <strong>Repeat every 1 hour(s)</strong> einstellen. Hierdurch wird dann jede Stunde ein Snapshot erzeugt. Stellen Sie dann noch die <em>Start-Time</em> ein und klicken im Anschluss daran dann auf <strong>Create Schedule</strong> und dann auf <strong>Close</strong>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie können mit AHV unter Einsatz der <em>NearSync-Technologie</em> bereits heute schon einen RPO von einer Minute erreichen.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sie können mehrere <em>Scheduler</em> für die gleiche <em>PD</em> verwenden, was Ihnen erlaubt eine beliebige Anzahl <em>X</em> an Snapshots entweder stündlich, täglich oder monatlich zu erzeugen oder vorzuhalten.</p>
</div>
</li>
<li><p>Sie können auch eine Retention Policy konfigurieren bei der z.B. die letzten 5 Snapshots erhalten bleiben.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In Umgebungen, in denen ein Nutanix-Remote-Cluster betrieben wird, kann die Replikation auf der Remote Seite definiert werden und auch hierbei kann die Anzahl der vorzuhaltenden Snapshots entsprechend eingestellt werden.</p>
<div class="figure align-default">
<img alt="../_images/snapshot_02.png" src="../_images/snapshot_02.png" />
</div>
</div>
</li>
<li><p>Klick auf <strong>Create Schedule</strong>.</p></li>
<li><p>Klick auf <strong>Close</strong> um das Lab abzuschließen.</p></li>
</ol>
<p>Und das war’s auch schon! Sie haben nun erfolgreich eine der nativen Data Protection Optionen in Prism-Element konfiguriert.</p>
</div>
<div class="section" id="zusammenfassung">
<h2>Zusammenfassung<a class="headerlink" href="#zusammenfassung" title="Permalink to this headline">¶</a></h2>
<p>Nutanix bietet unterschiedliche <em>Data-Protection-Lösungen</em> für virtuelle Datacenters anhand vieler verschiedener Möglichkeiten. Darunter befinden sich u. a. <em>one-to-one</em> oder <em>one-to-many</em> Replikationen. Die Möglichkeiten der Nutanix-Data-Protection-Funktionen beinhalten die VM-, File- und Volume-Group-Ebene, sodass VMs und Daten in einem geschützen und abgesicherten Zustand bleiben. VM-Level-Snapshots und Replikations-Regeln können für jeden unterstützten Hypervisor direkt aus Prism-Element heraus durchgeführt werden.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Lab7/lab7.html" class="btn btn-neutral float-right" title="Lab 7: Prism Central" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../Lab5/lab5.html" class="btn btn-neutral float-left" title="Lab 5: Verwalten von Workloads" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Nutanix Germany GmbH | 

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>